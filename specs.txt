Project Specification: "Margonem Minimap Hunter"

1. Project Overview
I am building a Python-based automation bot for a 2D browser MMORPG called Margonem. The goal is to create a local, external bot that autonomously navigates maps and kills monsters using Computer Vision (CV). The bot must rely exclusively on visual data from the game's minimap, without injecting code into the browser or analyzing network packets.

2. Game Mechanics & Environment
- Perspective: 2D grid-based world.
- Navigation: Movement is controlled by clicking the Left Mouse Button (LMB) on the terrain or the minimap. Pathfinding is handled by the game client automatically.
- Combat:
    - Monsters are static (they do not move).
    - To attack, the player must be adjacent to the monster (range: ~1 tile) and press the 'Q' key.
    - Loot is collected automatically after the kill.
- Visual Interface (The Minimap):
    - A rectangular radar in the UI showing the immediate surroundings.
    - Player: Located at the exact center of the minimap.
    - Monsters: Rendered as distinct gray pixels/squares.
    - Map Exits: Rendered as distinct blue pixels/squares.
    - Terrain: Green/brown background (ignored).

3. Functional Requirements
The bot needs to operate in a continuous "Game Loop" with the following logic:

A. Vision Module (Input):
    - Capture a specific screen region (the minimap) in real-time.
    - Filter the image to detect coordinates of:
        1. Monsters (Gray pixels).
        2. Exits (Blue pixels).
    - Detect if the character is currently moving (by comparing the current minimap frame with the previous one).

B. Decision Engine (Logic):
    - Calculate the Euclidean distance between the Player (center) and the nearest Monster.
    - State 1: Combat. If the distance is within "Attack Range" (e.g., < 2 tiles), trigger the attack command.
    - State 2: Approach. If the monster is visible but far away, trigger a movement command towards the monster's pixel coordinates.
    - State 3: Exploration. If no monsters are visible, find the nearest Map Exit (blue pixel) and move towards it to change the location.

C. Control Module (Output):
    - Simulate Mouse Clicks for movement (translating minimap coordinates to screen coordinates).
    - Simulate Keyboard Presses ('Q') for combat.
    - Implement a "Wait until stopped" mechanism: When moving, the bot must pause logic until the visual movement on the minimap ceases.
